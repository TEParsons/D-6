<head>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/11.0.0/markdown-it.min.js"></script>
    <script src="markdown.js"></script>
    <script src="functions.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Markdown Reader</title>
</head>

<form id=write>
    <details id=instr>
        <summary>Instructions</summary>
        <h2>How To Use</h2>
        <p>Throughout the campaign you'll be given text resources with certain custom markers, for example:</p>
        <code>[1]{lvl}</code>
        <p>In your character sheet, these are converted to an easy to read value based on your stats. For example, if you were lvl 3, the example above would be:</p>
        <code>3 (1 x lvl)</code>
        <p>You can use this page to put in whatever values you like for stats and preview the text. This is useful if given a big list of items which you can only take one of - copy your stats here and copy the item over to see it rendered!</p>
        <hr>
    </details>

    <section id=basics style="display: none;">
        <input id=lvl value=n></input>
    </section>

    <section id=stats style="display: none;">
        <input id=str value=n data-saveload></input>
        <input id=def value=n data-saveload></input>
        <input id=agl value=n data-saveload></input>
        <input id=kno value=n data-saveload></input>
        <input id=cun value=n data-saveload></input>
        <input id=chr value=n data-saveload></input>
    </section>

    <section id=health style="display: none;">
        <input id=hp type=number value=0 data-saveload></input>
        <output id=max-hp>10</output>
    </section>

    <mark-down id=preview data-postrender=custommd data-saveload style="min-height: 100%"></mark-down>

    <section id=saveload>
        <input type=button value="Load" onclick=loadmd(preview)></input>
        <input type="file" id=loadbuffer style="display:none"></input>
        <input type=button value="Save" onclick=savemd(preview)></input>
        <a id=savebuffer style="display:none"></a>
    </section>

</form>

<footer>
    <script src="script.js"></script>
</footer>